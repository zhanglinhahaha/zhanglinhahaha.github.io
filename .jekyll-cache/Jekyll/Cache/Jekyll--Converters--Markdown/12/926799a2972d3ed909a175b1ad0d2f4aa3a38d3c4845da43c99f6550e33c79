I"¤ß<p>æœ¬ä¹¦ä¸ºPrimer C++ ä¸­æ–‡ç¬¬äº”ç‰ˆ</p>
<h2 id="ç»ƒä¹ é¢˜ç¬”è®°">ç»ƒä¹ é¢˜ç¬”è®°</h2>
<p><img src="https://img-blog.csdnimg.cn/20191104132401420.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(11.1)
mapæ˜¯å…³é”®å­—-å€¼å¯¹çš„é›†åˆã€‚vectoræ˜¯å€¼çš„é›†åˆã€‚
mapæ˜¯å…³è”å®¹å™¨ï¼Œé«˜æ•ˆå®ç°â€œæŒ‰å€¼è®¿é—®å…ƒç´ â€ã€‚å®¹å™¨é‡Œçš„å…ƒç´ æ˜¯æŒ‰å…³é”®å­—å€¼å­˜å‚¨çš„ï¼Œå…³é”®å­—å’Œå…ƒç´ æ•°æ®å»ºç«‹å¯¹åº”å…³ç³»ã€‚åº•å±‚æ•°æ®ç»“æ„æ˜¯çº¢é»‘æ ‘ï¼Œå“ˆå¸Œè¡¨ç­‰ï¼Œå¯é«˜æ•ˆåœ°å®ç°æŒ‰å…³é”®å­—æŸ¥æ‰¾ã€æ·»åŠ ã€åˆ é™¤ç­‰æ“ä½œã€‚
vectoræ˜¯é¡ºåºå®¹å™¨ï¼Œå…ƒç´ æ˜¯æŒ‰é¡ºåºå­˜å‚¨ã€‚æ“ä½œæ˜¯æŒ‰ä½ç½®è¿›è¡Œçš„ã€‚
(11.2)
vector é€‚ç”¨äºé¡ºåºçš„æ·»åŠ ï¼Œéå¤§é‡é¢‘ç¹çš„åˆ é™¤æ“ä½œ
list é€‚ç”¨äºå¤§é‡çš„åˆ é™¤æ“ä½œ
deque é€‚ç”¨äºä¸¤å¤´æ·»åŠ çš„æ“ä½œ
set é€‚ç”¨äºåˆ¤æ–­æ˜¯å¦å­˜åœ¨çš„æ“ä½œ
map é€‚ç”¨äºé”®å€¼å¯¹çš„æ“ä½œ
(11.3)
void test3() {
    map&lt;string, size_t&gt; word_count;
    set&lt;string&gt; exclude = {"The", "But", "And", "Or", "An", "A",
                            "the", "but", "and", "or", "an", "a"};
    string word;
    while(cin &gt;&gt; word &amp;&amp; word != "q") {
        //find è¿”å›ä¸€ä¸ªè¿­ä»£å™¨,å¦‚æœå­˜åœ¨è¿”å›å…³é”®å­—,å¦åˆ™è¿”å›å°¾åè¿­ä»£å™¨
        if(exclude.find(word) == exclude.end())
            //mapç±»å‹ä»¥å…³é”®å­—ä¸ºä¸‹æ ‡,è·å¾—å…¶å¯¹åº”çš„å€¼
            ++word_count[word];
    }
    for(const auto &amp;w : word_count) {
        cout &lt;&lt; w.first &lt;&lt; " occurs " &lt;&lt; w.second
            &lt;&lt; ((w.second &gt; 1)? " times " : " time ") &lt;&lt; endl;
    }
}

(11.4)
void test4() {
    map&lt;string, size_t&gt; word_count;
    set&lt;string&gt; exclude = {"The", "But", "And", "Or", "An", "A",
                            "the", "but", "and", "or", "an", "a"};
    string word;
    while(cin &gt;&gt; word &amp;&amp; word != "q") {
        int len = word.size() - 1;
        if(word[len] == ',' || word[len] == '.' || word[len] == '!' || word[len] == '?') {
            word = word.substr(0, len);
        }
        transform(word.begin(), word.end(), word.begin(), ::tolower);
        if(exclude.find(word) == exclude.end())
            ++word_count[word];
    }
    for(const auto &amp;w : word_count) {
        cout &lt;&lt; w.first &lt;&lt; " occurs " &lt;&lt; w.second
            &lt;&lt; ((w.second &gt; 1)? " times " : " time ") &lt;&lt; endl;
    }
}

</code></pre></div></div>

<p><img src="https://img-blog.csdnimg.cn/20191104132750493.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(11.5)
map ç”¨æ¥é”®å€¼å¯¹çš„æ“ä½œ
set ç”¨æ¥åˆ¤æ–­æŸä¸ªå€¼æ˜¯å¦å­˜åœ¨
(11.6)
set å¯ä»¥å¿«é€Ÿçš„åˆ¤æ–­æŸä¸ªå€¼æ˜¯å¦å­˜åœ¨
list åˆ™æ˜¯æŒ‰ä½ç½®æˆ–è€…é¡ºåºå¯¹é‡Œé¢çš„å€¼è¿›è¡Œè®¿é—®æ“ä½œ
(11.7)
void test7() {
    map&lt;string, vector&lt;string&gt;&gt; home;
    set&lt;string&gt; firstname;
    string s,e;
    while(cin &gt;&gt; s &gt;&gt; e &amp;&amp; s != "q") {
        if(firstname.find(s) == firstname.end()) {
            firstname.insert(s);
            cout &lt;&lt; "creat a new home" &lt;&lt; endl;
            home[s].push_back(e);
        }else {
            cout &lt;&lt; "home have exited" &lt;&lt; endl;
            home[s].push_back(e);
        }
    }
    for(auto iter = home.begin(); iter != home.end(); ++iter) {
        cout &lt;&lt; iter-&gt;first &lt;&lt; " ";
        for(auto scan = iter-&gt;second.begin(); scan &lt; iter-&gt;second.end(); ++scan) {
            cout &lt;&lt; *scan &lt;&lt; " ";
        }
        cout &lt;&lt; endl;
    }
}
(11.8)
/**
 *ä½¿ç”¨vectorä¸­çš„findå‡½æ•°éœ€è¦åŠ ä¸Šå¤´æ–‡ä»¶#include &lt;algorithm&gt;ï¼›
 *è€Œä¸”æ¯”è¾ƒç¹ç
 */
void test8() {
    vector&lt;string&gt; exclude = {"The", "But", "And", "Or", "An", "A",
                            "the", "but", "and", "or", "an", "a"};
    string s;
    while(cin &gt;&gt; s &amp;&amp; s != "q") {
        auto iter = find(exclude.begin(), exclude.end(), s);
        if(iter == exclude.end()) cout &lt;&lt; "not exits" &lt;&lt; endl;
        else cout &lt;&lt; "exits" &lt;&lt; endl;
    }
}

</code></pre></div></div>

<p><img src="https://img-blog.csdnimg.cn/2019110413342727.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="mf">11.9</span><span class="p">)</span>
<span class="kt">void</span> <span class="nf">test9</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">strlst</span><span class="p">;</span>
    <span class="n">ifstream</span> <span class="n">fin</span><span class="p">(</span><span class="s">"test.txt"</span><span class="p">);</span>
    <span class="kt">int</span> <span class="n">l</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="n">fin</span><span class="p">.</span><span class="n">eof</span><span class="p">())</span> <span class="p">{</span>
        <span class="n">string</span> <span class="n">line</span><span class="p">;</span>
        <span class="n">getline</span><span class="p">(</span><span class="n">fin</span><span class="p">,</span> <span class="n">line</span><span class="p">);</span>
        <span class="n">stringstream</span> <span class="n">input</span><span class="p">(</span><span class="n">line</span><span class="p">);</span>
        <span class="n">string</span> <span class="n">word</span><span class="p">;</span>
        <span class="k">while</span><span class="p">(</span><span class="n">input</span> <span class="o">&gt;&gt;</span> <span class="n">word</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">word</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="p">;</span>
            <span class="k">if</span><span class="p">(</span><span class="n">strlst</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">==</span> <span class="n">strlst</span><span class="p">.</span><span class="n">end</span><span class="p">())</span> <span class="p">{</span>
                <span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">def</span><span class="p">;</span>
                <span class="n">def</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">l</span><span class="p">);</span>
                <span class="n">strlst</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="o">=</span> <span class="n">def</span><span class="p">;</span>
            <span class="p">}</span><span class="k">else</span> <span class="p">{</span>
                <span class="k">auto</span> <span class="n">lst</span> <span class="o">=</span> <span class="n">strlst</span><span class="p">[</span><span class="n">word</span><span class="p">];</span>
                <span class="k">auto</span> <span class="n">findif</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">lst</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">lst</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">l</span><span class="p">);</span>
                <span class="k">if</span><span class="p">(</span><span class="n">findif</span> <span class="o">==</span> <span class="n">lst</span><span class="p">.</span><span class="n">end</span><span class="p">())</span> <span class="p">{</span>
                    <span class="n">strlst</span><span class="p">[</span><span class="n">word</span><span class="p">].</span><span class="n">push_back</span><span class="p">(</span><span class="n">l</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="n">l</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="n">scan</span> <span class="o">=</span> <span class="n">strlst</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">scan</span> <span class="o">!=</span> <span class="n">strlst</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="o">++</span><span class="n">scan</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">scan</span><span class="o">-&gt;</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\t</span><span class="s">"</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="n">lst</span> <span class="o">=</span> <span class="n">scan</span><span class="o">-&gt;</span><span class="n">second</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">lst</span> <span class="o">!=</span> <span class="n">scan</span><span class="o">-&gt;</span><span class="n">second</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="o">++</span><span class="n">lst</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">lst</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\t</span><span class="s">"</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="p">(</span><span class="mf">11.10</span><span class="p">)</span>
<span class="err">å…³è”å®¹å™¨å¯¹å…³é”®å­—ç±»å‹æœ‰ä¸€äº›é™åˆ¶ã€‚å¯¹äºæœ‰åºå®¹å™¨</span><span class="n">map</span><span class="err">ï¼Œ</span><span class="n">multimap</span><span class="err">ï¼Œ</span><span class="n">set</span><span class="err">ï¼Œ</span><span class="n">multiset</span><span class="err">ï¼Œå…³é”®å­—ç±»å‹å¿…é¡»å®šä¹‰å…ƒç´ æ¯”è¾ƒçš„æ–¹æ³•ã€‚</span>
<span class="p">(</span><span class="mf">11.11</span><span class="p">)</span>
<span class="err">å›é¡¾</span><span class="o">:</span>
<span class="k">decltype</span><span class="p">((</span><span class="n">variable</span><span class="p">))</span><span class="err">çš„ç»“æœæ°¸è¿œæ˜¯å¼•ç”¨</span>
<span class="err">è€Œ</span><span class="k">decltype</span><span class="p">(</span><span class="n">variable</span><span class="p">)</span><span class="err">åªæœ‰å½“</span><span class="n">variable</span><span class="err">æœ¬èº«å°±æ˜¯ä¸€ä¸ªå¼•ç”¨æ—¶ï¼Œæ‰æ˜¯å¼•ç”¨</span><span class="p">,</span><span class="err">å¼•ç”¨å¿…é¡»è¢«åˆå§‹åŒ–</span>
<span class="k">decltype</span><span class="p">(</span><span class="n">f</span><span class="p">())</span> <span class="n">sum</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span> <span class="c1">//sumçš„ç±»å‹å°±æ˜¯å‡½æ•°fçš„è¿”å›ç±»å‹</span>
<span class="k">typedef</span> <span class="n">a</span> <span class="n">b</span><span class="p">;</span> <span class="err">ç»™</span><span class="n">a</span><span class="err">å–ä¸ªåˆ«åä¸º</span><span class="n">b</span>
<span class="err">å¯ä»¥åˆ©ç”¨ç±»å‹åˆ«åï¼Œ</span>
<span class="k">typedef</span> <span class="nf">bool</span> <span class="p">(</span><span class="o">*</span><span class="n">pf</span><span class="p">)(</span><span class="k">const</span> <span class="n">Sales_data</span> <span class="o">&amp;</span><span class="n">lhs</span><span class="p">,</span> <span class="k">const</span> <span class="n">Sales_data</span> <span class="o">&amp;</span><span class="n">rhs</span><span class="p">);</span>
<span class="n">multiset</span><span class="o">&lt;</span><span class="n">Sales_data</span><span class="p">,</span> <span class="n">pf</span><span class="o">&gt;</span> <span class="n">bookstore</span><span class="p">(</span><span class="n">compareIsbn</span><span class="p">);</span>

</code></pre></div></div>

<p><img src="https://img-blog.csdnimg.cn/20191104151536787.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="mf">11.12</span><span class="p">)</span>
<span class="kt">void</span> <span class="nf">test12</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">res</span><span class="p">;</span>
    <span class="n">string</span> <span class="n">s</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="n">cin</span> <span class="o">&gt;&gt;</span><span class="n">s</span> <span class="o">&amp;&amp;</span> <span class="n">s</span> <span class="o">!=</span> <span class="s">"q"</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="p">{</span><span class="n">s</span><span class="p">,</span> <span class="n">n</span><span class="p">};</span>
        <span class="n">res</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
        <span class="n">n</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="n">p</span> <span class="o">:</span> <span class="n">res</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="p">(</span><span class="mf">11.13</span><span class="p">)</span>
<span class="kt">void</span> <span class="nf">test13</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">res</span><span class="p">;</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">res1</span><span class="p">;</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">res2</span><span class="p">;</span>
    <span class="n">string</span> <span class="n">s</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="n">cin</span> <span class="o">&gt;&gt;</span><span class="n">s</span> <span class="o">&amp;&amp;</span> <span class="n">s</span> <span class="o">!=</span> <span class="s">"q"</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="p">{</span><span class="n">s</span><span class="p">,</span> <span class="n">n</span><span class="p">};</span>
        <span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">p1</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span>
        <span class="n">res</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
        <span class="n">res1</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">make_pair</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">n</span><span class="p">));</span>
        <span class="n">res2</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">p1</span><span class="p">);</span>
        <span class="n">n</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="n">p</span> <span class="o">:</span> <span class="n">res</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="n">p</span> <span class="o">:</span> <span class="n">res1</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="n">p</span> <span class="o">:</span> <span class="n">res2</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c1">//ä¸ªäººæ›´å–œæ¬¢ä½¿ç”¨make_pair()</span>
<span class="p">(</span><span class="mf">11.14</span><span class="p">)</span>
<span class="kt">void</span> <span class="nf">test14</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="o">&gt;&gt;</span> <span class="n">people</span><span class="p">;</span>
    <span class="n">string</span> <span class="n">fn</span><span class="p">,</span> <span class="n">la</span><span class="p">,</span> <span class="n">bir</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">fn</span> <span class="o">&gt;&gt;</span> <span class="n">la</span> <span class="o">&gt;&gt;</span> <span class="n">bir</span> <span class="o">&amp;&amp;</span> <span class="n">fn</span> <span class="o">!=</span> <span class="s">"q"</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">people</span><span class="p">[</span><span class="n">fn</span><span class="p">]</span> <span class="o">=</span> <span class="n">make_pair</span><span class="p">(</span><span class="n">la</span><span class="p">,</span> <span class="n">bir</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="n">p</span> <span class="o">:</span> <span class="n">people</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">second</span><span class="p">.</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">second</span><span class="p">.</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><img src="https://img-blog.csdnimg.cn/20191104154131144.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNjg1MDEy,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="mf">11.15</span><span class="p">)</span>
<span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">test</span><span class="p">;</span>
<span class="n">key_type</span> <span class="o">:</span> <span class="kt">int</span>
<span class="n">mapped_type</span> <span class="o">:</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span>
<span class="n">value_type</span> <span class="o">:</span> <span class="n">pair</span><span class="o">&lt;</span><span class="k">const</span> <span class="kt">int</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span>
<span class="p">(</span><span class="mf">11.16</span><span class="p">)</span>
<span class="kt">void</span> <span class="nf">test16</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">m</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">string</span> <span class="n">s</span> <span class="o">=</span> <span class="s">"a"</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">m</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="n">sc</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">sc</span> <span class="o">!=</span> <span class="n">m</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="o">++</span><span class="n">sc</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">sc</span><span class="o">-&gt;</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">sc</span><span class="o">-&gt;</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="p">(</span><span class="mf">11.17</span><span class="p">)</span>
<span class="err">å› ä¸º</span><span class="n">set</span><span class="err">çš„è¿­ä»£å™¨æ˜¯</span><span class="k">const</span><span class="err">çš„ï¼Œåªå…è®¸è®¿é—®å…ƒç´ </span>
<span class="err">æ‰€ä»¥å‰ä¸¤ä¸ªéæ³•ï¼Œåé¢ä¸¤ä¸ªåˆæ³•</span>
<span class="p">(</span><span class="mf">11.18</span><span class="p">)</span>
<span class="n">map</span><span class="o">&lt;</span><span class="k">const</span> <span class="n">string</span><span class="p">,</span> <span class="kt">size_t</span><span class="o">&gt;::</span><span class="n">iterator</span>
<span class="p">(</span><span class="mf">11.19</span><span class="p">)</span>
<span class="n">multiset</span><span class="o">&lt;</span><span class="n">Sales_data</span><span class="p">,</span> <span class="n">pf</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">iter</span> <span class="o">=</span> <span class="n">bookstore</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>

</code></pre></div></div>

<p><img src="https://img-blog.csdnimg.cn/2019110415465451.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNjg1MDEy,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="mf">11.20</span><span class="p">)</span>
<span class="kt">void</span> <span class="nf">test20</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">size_t</span><span class="o">&gt;</span> <span class="n">word_count</span><span class="p">;</span>
    <span class="n">string</span> <span class="n">word</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">word</span> <span class="o">&amp;&amp;</span> <span class="n">word</span> <span class="o">!=</span> <span class="s">"q"</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">auto</span> <span class="n">ret</span> <span class="o">=</span> <span class="n">word_count</span><span class="p">.</span><span class="n">insert</span><span class="p">({</span><span class="n">word</span><span class="p">,</span> <span class="mi">1</span><span class="p">});</span>
        <span class="c1">//insertæ’å…¥æˆåŠŸres.secondä¸ºtrueï¼Œret.firstæŒ‡å‘word_count[word]çš„è¿­ä»£å™¨</span>
        <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">ret</span><span class="p">.</span><span class="n">second</span><span class="p">)</span> <span class="n">ret</span><span class="p">.</span><span class="n">first</span><span class="o">-&gt;</span><span class="n">second</span><span class="o">++</span><span class="p">;</span>
<span class="c1">//        ++word_count.insert({word, 0}).first-&gt;second;</span>
    <span class="p">}</span>
    <span class="k">for</span><span class="p">(</span><span class="k">const</span> <span class="k">auto</span> <span class="o">&amp;</span><span class="n">w</span> <span class="o">:</span> <span class="n">word_count</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">w</span><span class="p">.</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">" occurs "</span> <span class="o">&lt;&lt;</span> <span class="n">w</span><span class="p">.</span><span class="n">second</span>
            <span class="o">&lt;&lt;</span> <span class="p">((</span><span class="n">w</span><span class="p">.</span><span class="n">second</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span><span class="o">?</span> <span class="s">" times "</span> <span class="o">:</span> <span class="s">" time "</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="p">(</span><span class="mf">11.21</span><span class="p">)</span>
<span class="err">é¦–å…ˆæ˜¯åœ¨</span><span class="n">map</span> <span class="n">word_count</span><span class="err">æ’å…¥å€¼</span>
<span class="err">ç„¶å</span> <span class="n">word_count</span><span class="p">.</span><span class="n">insert</span><span class="p">({</span><span class="n">word</span><span class="p">,</span><span class="mi">0</span><span class="p">}).</span><span class="n">first</span> <span class="err">æ˜¯æŒ‡å‘</span><span class="n">word_count</span><span class="p">[</span><span class="n">word</span><span class="p">]</span><span class="err">çš„è¿­ä»£å™¨</span>
<span class="err">æœ€åå°†</span><span class="n">word_count</span><span class="p">[</span><span class="n">word</span><span class="p">]</span><span class="err">å€¼å¢åŠ </span><span class="mi">1</span>
<span class="err">ç­‰ä»·äºä¸Šä¸€é¢˜çš„å†™æ³•</span>
<span class="p">(</span><span class="mf">11.22</span><span class="p">)</span>
<span class="err">å‚æ•°ç±»å‹</span><span class="o">:</span> <span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span>
<span class="err">è¿”å›ç±»å‹</span><span class="o">:</span> <span class="n">pair</span><span class="o">&lt;</span><span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;::</span><span class="n">iterator</span><span class="p">,</span> <span class="kt">bool</span><span class="o">&gt;</span>
<span class="p">(</span><span class="mf">11.23</span><span class="p">)</span>
<span class="kt">void</span> <span class="nf">test23</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">multimap</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="o">&gt;</span> <span class="n">home</span><span class="p">;</span>
    <span class="n">string</span> <span class="n">fn</span><span class="p">,</span> <span class="n">la</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">fn</span> <span class="o">&gt;&gt;</span> <span class="n">la</span> <span class="o">&amp;&amp;</span> <span class="n">fn</span> <span class="o">!=</span> <span class="s">"q"</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">home</span><span class="p">.</span><span class="n">insert</span><span class="p">({</span><span class="n">fn</span><span class="p">,</span> <span class="n">la</span><span class="p">});</span>
    <span class="p">}</span>
    <span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="n">iter</span> <span class="o">=</span> <span class="n">home</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">iter</span> <span class="o">!=</span> <span class="n">home</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="o">++</span><span class="n">iter</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">iter</span><span class="o">-&gt;</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">iter</span><span class="o">-&gt;</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><img src="https://img-blog.csdnimg.cn/20191104155923703.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNjg1MDEy,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="mf">11.24</span><span class="p">)</span>
<span class="err">å…ˆåˆ›å»ºä¸€ä¸ªå…³é”®å­—ä¸º</span><span class="mi">0</span><span class="err">ï¼Œå€¼ä¸º</span><span class="mi">0</span><span class="err">çš„</span><span class="n">pair</span><span class="err">ç±»å…ƒç´ ã€‚ç„¶åå°†è¯¥å…³é”®å­—çš„å¯¹åº”çš„å€¼èµ‹å€¼ä¸º</span><span class="mi">1</span><span class="err">ã€‚</span>
<span class="p">(</span><span class="mf">11.25</span><span class="p">)</span>
<span class="n">v</span><span class="err">æ˜¯ä¸€ä¸ªç©ºçš„å®¹å™¨ï¼Œç”¨ä¸‹æ ‡è®¿é—®å®ƒçš„éæ³•ä½ç½®</span><span class="mi">0</span><span class="err">çš„å…ƒç´ ä¼šå¼•å‘é”™è¯¯é€ æˆç³»ç»Ÿå´©æºƒã€‚</span>
<span class="p">(</span><span class="mf">11.26</span><span class="p">)</span>
<span class="err">å¯¹</span><span class="n">map</span><span class="err">è¿›è¡Œä¸‹æ ‡æ“ä½œçš„ç±»å‹æ˜¯è¯¥</span><span class="n">map</span><span class="err">çš„</span><span class="n">key_type</span>
<span class="err">ä¸‹æ ‡è¿ç®—ç¬¦è¿”å›çš„ç±»å‹æ˜¯è¯¥</span><span class="n">map</span><span class="err">çš„</span><span class="n">mapped_type</span>
<span class="n">eg</span><span class="p">.</span><span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">msi</span><span class="p">;</span><span class="err">å¯ä»¥åˆ©ç”¨</span><span class="n">string</span><span class="err">ç±»å‹çš„å¯¹</span><span class="n">msi</span><span class="err">è¿›è¡Œä¸‹æ ‡æ“ä½œï¼Œè¿”å›çš„ç±»å‹ä¸º</span><span class="kt">int</span><span class="err">ç±»å‹</span>
</code></pre></div></div>

<p><img src="https://img-blog.csdnimg.cn/20191104162542767.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNjg1MDEy,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="mf">11.27</span><span class="p">)</span>
<span class="err">åªå…³å¿ƒä¸€ä¸ªç‰¹å®šå…ƒç´ æ˜¯å¦å·²åœ¨å®¹å™¨ä¸­ï¼Œ</span><span class="n">find</span><span class="err">æ˜¯æœ€ä½³é€‰æ‹©ã€‚</span>
<span class="err">å¯¹äºä¸å…è®¸é‡å¤å…³é”®å­—çš„å®¹å™¨</span><span class="n">find</span><span class="err">å’Œ</span><span class="n">count</span><span class="err">ä½œç”¨æ˜¯ä¸€æ ·çš„ã€‚</span>
<span class="err">å¯¹äºå…è®¸é‡å¤å…³é”®å­—çš„å®¹å™¨ï¼Œ</span><span class="n">count</span><span class="err">ä¼šç»Ÿè®¡æœ‰å¤šå°‘ä¸ªå…ƒç´ ç›¸åŒçš„å…³é”®å­—ã€‚</span>
<span class="p">(</span><span class="mf">11.28</span><span class="p">)</span>
<span class="kt">void</span> <span class="nf">test28</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">msv</span><span class="p">;</span>
    <span class="n">string</span> <span class="n">s</span> <span class="o">=</span> <span class="s">"a"</span><span class="p">;</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">vi</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">vi</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
        <span class="n">msv</span><span class="p">.</span><span class="n">insert</span><span class="p">({</span><span class="n">s</span><span class="p">,</span> <span class="n">vi</span><span class="p">});</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="n">i</span> <span class="o">:</span> <span class="n">msv</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"aaaa"</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">second</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">(</span><span class="mf">11.29</span><span class="p">)</span>
<span class="err">æ¥å—ä¸€ä¸ªå…³é”®å­—ï¼Œè¿”å›ä¸€ä¸ªè¿­ä»£å™¨</span>
<span class="n">lower_bound</span><span class="p">();</span><span class="err">æŒ‡å‘ç¬¬ä¸€ä¸ªå…·æœ‰ç»™å®šå…³é”®å­—çš„å…ƒç´ </span>
<span class="n">upper_bound</span><span class="p">();</span><span class="err">æŒ‡å‘æœ€åä¸€ä¸ªåŒ¹é…ç»™å®šå…³é”®å­—çš„å…ƒç´ ä¹‹åçš„ä½ç½®</span>
<span class="err">è‹¥å…ƒç´ ä¸å­˜åœ¨ï¼Œè¿”å›ä¸€ä¸ªç›¸ç­‰çš„è¿­ä»£å™¨ï¼ŒæŒ‡å‘ä¸€ä¸ªä¸å½±å“æ’åºçš„å…³é”®å­—æ’å…¥ä½ç½®ã€‚</span>

<span class="err">æ¥å—ä¸€ä¸ªå…³é”®å­—ï¼Œè¿”å›ä¸€ä¸ªè¿­ä»£å™¨</span><span class="n">pair</span>
<span class="nf">equal_range</span><span class="p">();</span><span class="err">è‹¥å­˜åœ¨ï¼Œç¬¬ä¸€ä¸ªè¿­ä»£å™¨æŒ‡å‘ç¬¬ä¸€ä¸ªä¸å…³é”®å­—åŒ¹é…çš„å…ƒç´ ï¼Œç¬¬äºŒä¸ªè¿­ä»£å™¨æŒ‡å‘æœ€åä¸€ä¸ªåŒ¹é…å…ƒç´ ä¹‹åçš„ä½ç½®ã€‚è‹¥æœªæ‰¾åˆ°åŒ¹é…å…ƒç´ ï¼Œåˆ™ä¸¤ä¸ªè¿­ä»£å™¨éƒ½æŒ‡å‘å…³é”®å­—å¯ä»¥æ’å…¥çš„ä½ç½®ã€‚</span>
<span class="p">(</span><span class="mf">11.30</span><span class="p">)</span>
<span class="n">pos</span><span class="p">.</span><span class="n">first</span><span class="err">ä»£è¡¨ä¸å…³é”®å­—åŒ¹é…å…ƒç´ çš„è¿­ä»£å™¨</span>
<span class="n">pos</span><span class="p">.</span><span class="n">first</span><span class="o">-&gt;</span><span class="n">second</span><span class="err">ä»£è¡¨è¯¥å…³é”®å­—æŒ‡å‘çš„å€¼</span>
<span class="p">(</span><span class="mf">11.31</span><span class="p">)</span>
<span class="p">(</span><span class="mf">11.32</span><span class="p">)</span>
<span class="kt">void</span> <span class="nf">test3132</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">multimap</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="o">&gt;</span> <span class="n">books</span><span class="p">;</span>
    <span class="n">books</span><span class="p">.</span><span class="n">insert</span><span class="p">({</span><span class="s">"JY"</span><span class="p">,</span> <span class="s">"TLBB"</span><span class="p">});</span>
    <span class="n">books</span><span class="p">.</span><span class="n">insert</span><span class="p">({</span><span class="s">"YG"</span><span class="p">,</span> <span class="s">"BLSMY"</span><span class="p">});</span>
    <span class="n">books</span><span class="p">.</span><span class="n">insert</span><span class="p">({</span><span class="s">"YG"</span><span class="p">,</span> <span class="s">"BCSJ"</span><span class="p">});</span>
    <span class="n">books</span><span class="p">.</span><span class="n">insert</span><span class="p">({</span><span class="s">"LLXXS"</span><span class="p">,</span> <span class="s">"JPM"</span><span class="p">});</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"origin:"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="n">b</span> <span class="o">:</span> <span class="n">books</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">b</span><span class="p">.</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">b</span><span class="p">.</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"delete:"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="n">pos</span> <span class="o">=</span> <span class="n">books</span><span class="p">.</span><span class="n">equal_range</span><span class="p">(</span><span class="s">"JY"</span><span class="p">);</span> <span class="n">pos</span><span class="p">.</span><span class="n">first</span> <span class="o">!=</span> <span class="n">pos</span><span class="p">.</span><span class="n">second</span><span class="p">;</span> <span class="o">++</span><span class="n">pos</span><span class="p">.</span><span class="n">first</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">pos</span><span class="p">.</span><span class="n">first</span><span class="o">-&gt;</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">pos</span><span class="p">.</span><span class="n">first</span><span class="o">-&gt;</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="n">books</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">pos</span><span class="p">.</span><span class="n">first</span><span class="o">-&gt;</span><span class="n">first</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"end:"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="n">begin</span> <span class="o">=</span> <span class="n">books</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">begin</span> <span class="o">!=</span> <span class="n">books</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="o">++</span><span class="n">begin</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">begin</span><span class="o">-&gt;</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">begin</span><span class="o">-&gt;</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><img src="https://img-blog.csdnimg.cn/20191104162733400.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNjg1MDEy,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="mf">11.33</span><span class="p">)</span>
<span class="cp">#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;fstream&gt;
#include &lt;sstream&gt;
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="o">&gt;</span> <span class="n">buildMap</span><span class="p">(</span><span class="n">ifstream</span> <span class="o">&amp;</span><span class="n">map_file</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="o">&gt;</span> <span class="n">trans_map</span><span class="p">;</span>
    <span class="n">string</span> <span class="n">key</span><span class="p">;</span>
    <span class="n">string</span> <span class="n">value</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="n">map_file</span> <span class="o">&gt;&gt;</span> <span class="n">key</span> <span class="o">&amp;&amp;</span> <span class="n">getline</span><span class="p">(</span><span class="n">map_file</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">value</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">trans_map</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
        <span class="k">else</span>
            <span class="k">throw</span> <span class="n">runtime_error</span><span class="p">(</span><span class="s">"no rule for key: "</span> <span class="o">+</span> <span class="n">key</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">trans_map</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">const</span> <span class="n">string</span> <span class="o">&amp;</span> <span class="n">transform</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span> <span class="o">&amp;</span><span class="n">s</span><span class="p">,</span> <span class="k">const</span> <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">m</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">auto</span> <span class="n">map_it</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="n">map_it</span> <span class="o">!=</span> <span class="n">m</span><span class="p">.</span><span class="n">end</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">map_it</span><span class="o">-&gt;</span><span class="n">second</span><span class="p">;</span>
    <span class="k">else</span>
        <span class="k">return</span> <span class="n">s</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">word_transform</span><span class="p">(</span><span class="n">ifstream</span> <span class="o">&amp;</span><span class="n">map_file</span><span class="p">,</span> <span class="n">ifstream</span> <span class="o">&amp;</span><span class="n">input</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">auto</span> <span class="n">trans_map</span> <span class="o">=</span> <span class="n">buildMap</span><span class="p">(</span><span class="n">map_file</span><span class="p">);</span>
    <span class="n">string</span> <span class="n">text</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="n">getline</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">text</span><span class="p">))</span> <span class="p">{</span>
        <span class="n">istringstream</span> <span class="n">stream</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
        <span class="n">string</span> <span class="n">word</span><span class="p">;</span>
        <span class="kt">bool</span> <span class="n">firstword</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
        <span class="k">while</span><span class="p">(</span><span class="n">stream</span> <span class="o">&gt;&gt;</span> <span class="n">word</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="n">firstword</span><span class="p">)</span>
                <span class="n">firstword</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
            <span class="k">else</span>
                <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="p">;</span>
            <span class="k">if</span><span class="p">(</span><span class="n">word</span><span class="p">[</span><span class="n">word</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sc">','</span> <span class="o">||</span> <span class="n">word</span><span class="p">[</span><span class="n">word</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'.'</span> <span class="o">||</span> <span class="n">word</span><span class="p">[</span><span class="n">word</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'?'</span> <span class="o">||</span> <span class="n">word</span><span class="p">[</span><span class="n">word</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'!'</span><span class="p">)</span> <span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">word</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
            <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">transform</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">trans_map</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">test33</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">ifstream</span> <span class="n">fmap</span><span class="p">(</span><span class="s">"map.txt"</span><span class="p">);</span>
    <span class="n">ifstream</span> <span class="n">finput</span><span class="p">(</span><span class="s">"input.txt"</span><span class="p">);</span>
    <span class="n">word_transform</span><span class="p">(</span><span class="n">fmap</span><span class="p">,</span> <span class="n">finput</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">test33</span><span class="p">();</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">(</span><span class="mf">11.34</span><span class="p">)</span>
<span class="err">ä¼šä½¿å¾—æœ¬æ¥ä¸å­˜åœ¨è½¬æ¢çš„å€¼ï¼Œç»è¿‡ä¸‹æ ‡æ“ä½œåˆ›å»ºè¯¥å€¼å­˜åˆ°</span><span class="n">map</span><span class="err">ä¸­</span>
<span class="p">(</span><span class="mf">11.35</span><span class="p">)</span>
<span class="err">å½“</span><span class="n">key</span><span class="err">ä¸å­˜åœ¨çš„æ—¶å€™ï¼Œè¿™ä¸¤ç§æƒ…å†µéƒ½ä¼šæ˜¯åˆ›å»º</span>
<span class="err">ä½†æ˜¯å½“</span><span class="n">key</span><span class="err">å·²ç»å­˜åœ¨çš„æ—¶å€™ï¼Œç¬¬ä¸€ç§æƒ…å†µæ˜¯æ›¿æ¢</span><span class="n">key</span><span class="err">çš„</span><span class="n">value</span><span class="err">ï¼Œè€Œç¬¬äºŒç§åˆ™æ˜¯ä»€ä¹ˆä¹Ÿä¸ä¼šåš</span>
<span class="p">(</span><span class="mf">11.36</span><span class="p">)</span>
<span class="err">ä¾‹å­ä¸­å·²ç»è¿›è¡Œäº†åˆ¤æ–­ï¼Œå¦‚æœæ²¡æœ‰å¯¹åº”çš„</span><span class="n">value</span><span class="err">ï¼Œåˆ™ä¼šæŠ›å‡º</span><span class="n">runtime_error</span>

</code></pre></div></div>

<p><img src="https://img-blog.csdnimg.cn/20191104162955826.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNjg1MDEy,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><img src="https://img-blog.csdnimg.cn/20191104164205711.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="mf">11.37</span><span class="p">)</span>
<span class="err">æ— åºå®¹å™¨ä¸éœ€è¦ç»´æŠ¤å…ƒç´ çš„æ’åºï¼Œåœ¨æ€§èƒ½æµ‹è¯•å’Œè°ƒä¼˜å·¥ä½œæœ‰ç€å¾ˆå¥½çš„æ•ˆæœã€‚å¦‚æœä¸æ˜¯å¿…é¡»å¯¹å…³é”®å­—æ’åºï¼Œç”¨æ— åºå®¹å™¨æœ‰ç€æ›´å¥½çš„æ€§èƒ½ã€‚</span>
<span class="p">(</span><span class="mf">11.38</span><span class="p">)</span>
<span class="err">ç•¥ç•¥ç•¥äº†ï¼Œåªéœ€è¦æŠŠ</span><span class="n">map</span><span class="err">æ”¹æˆ</span><span class="n">unordered_mao</span><span class="err">å³å¯</span>
</code></pre></div></div>

:ET