I"ù<h3 id="æ¨¡æ¿æ–¹æ³•æ¨¡å¼">æ¨¡æ¿æ–¹æ³•æ¨¡å¼</h3>
<p>åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¦‚æœç›¸åŒçš„ä¸€æ®µä»£ç å¤åˆ¶è¿‡ä¸¤æ¬¡ï¼Œå°±éœ€è¦å¯¹è®¾è®¡äº§ç”Ÿæ€€ç–‘ï¼Œæ¶æ„å¸ˆè¦æ˜ç¡®åœ°è¯´æ˜ä¸ºä»€ä¹ˆç›¸åŒçš„é€»è¾‘è¦å‡ºç°ä¸¤æ¬¡æˆ–æ›´å¤šæ¬¡ã€‚
Define the skeleton of an algorithm in an operation,deferring some steps to subclasses.Template Method lets subclasses redefine certain steps of an algorithm without changing the algorithmâ€™s structure.
(å®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•çš„æ¡†æ¶,è€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ã€‚ä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•çš„ç»“æ„å³å¯é‡å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚)</p>
<h3 id="é€šç”¨ç±»å›¾">é€šç”¨ç±»å›¾</h3>
<p>æŠ½è±¡æ¨¡æ¿ç±»åŒ…æ‹¬åŸºæœ¬æ–¹æ³•å’Œæ¨¡æ¿æ–¹æ³•ï¼ŒåŸºæœ¬æ–¹æ³•ç”±å­ç±»å®ç°ï¼Œæ¨¡æ¿æ–¹æ³•ä¸€èˆ¬æ˜¯ä¸€ä¸ªå…·ä½“æ–¹æ³•ï¼Œå®ç°å¯¹åŸºæœ¬æ–¹æ³•çš„è°ƒåº¦ï¼Œå®Œæˆå›ºæœ‰çš„é€»è¾‘ã€‚ä¸€èˆ¬æ¨¡æ¿æ–¹æ³•éƒ½éœ€è¦åŠ ä¸Šfinalå…³é”®å­—ï¼Œä¸å…è®¸è¢«è¦†å†™ã€‚
å…·ä½“æ¨¡æ¿ç±»ç»§æ‰¿æŠ½è±¡æ¨¡æ¿ç±»ï¼Œå®ç°çˆ¶ç±»å®šä¹‰çš„ä¸€ä¸ªæˆ–å¤šä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå³å®ç°çˆ¶ç±»ä¸­å®šä¹‰çš„åŸºæœ¬æ–¹æ³•ã€‚</p>
<h3 id="é€šç”¨ä»£ç ">é€šç”¨ä»£ç </h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/**
*æŠ½è±¡æ¨¡æ¿ç±»
*æŠ½è±¡æ¨¡æ¿ç±»ä¸­çš„åŸºæœ¬æ–¹æ³•å°½é‡è®¾è®¡ä¸ºprotectedç±»å‹ï¼Œç¬¦åˆè¿ªç±³ç‰¹æ³•åˆ™
*/
class AbsClass {
public:
    //æ¨¡æ¿æ–¹æ³•
    virtual void templateMethod() final {
        this-&gt;doAnything();
        this-&gt;doSomething();
    }
protected:
    //åŸºæœ¬æ–¹æ³•
    virtual void doSomething() = 0;
    virtual void doAnything() = 0;
};
/**
*å…·ä½“æ¨¡æ¿ç±»
*è‹¥éå¿…è¦ï¼Œå°½é‡ä¸è¦æ‰©å¤§çˆ¶ç±»ä¸­çš„è®¿é—®æƒé™
*/
class ConClass1 : public AbsClass {
protected:
    virtual void doSomething() {
    }
    virtual void doAnything() {
    }
};
class ConClass2 : public AbsClass {
private:
    virtual void doSomething() {
    }
    virtual void doAnything() {
    }
};
//ä½¿ç”¨åœºæ™¯ç±»
AbsClass *c1 = new ConClass1();
AbsClass *c2 = new ConClass2();
c1-&gt;templateMethod();
c2-&gt;templateMethod();
</code></pre></div></div>
<h3 id="ä¼˜ç‚¹">ä¼˜ç‚¹</h3>
<p>å°è£…ä¸å˜éƒ¨åˆ†ï¼Œæ‰©å±•å¯å˜éƒ¨åˆ†ï¼›
æå–å…¬å…±éƒ¨åˆ†ä»£ç ï¼Œä¾¿äºç»´æŠ¤ï¼›
è¡Œä¸ºç”±çˆ¶ç±»æ§åˆ¶ï¼Œå­ç±»å®ç°ï¼›</p>
<h3 id="ç¼ºç‚¹">ç¼ºç‚¹</h3>
<p>æŠ½è±¡ç±»å®šä¹‰äº†éƒ¨åˆ†æŠ½è±¡æ–¹æ³•ï¼Œç”±å­ç±»å®ç°ï¼Œå­ç±»æ‰§è¡Œçš„ç»“æœå½±å“äº†çˆ¶ç±»çš„ç»“æœï¼Œåœ¨å¤æ‚é¡¹ç›®ä¸­ä¼šå¢åŠ ä»£ç é˜…è¯»çš„éš¾åº¦ã€‚</p>
<h3 id="ä½¿ç”¨åœºæ™¯">ä½¿ç”¨åœºæ™¯ï¼š</h3>
<p>å¤šä¸ªå­ç±»æœ‰å…¬æœ‰çš„æ–¹æ³•ï¼Œä¸”é€»è¾‘åŸºæœ¬ç›¸åŒã€‚
é‡è¦ã€å¤æ‚çš„ç®—æ³•ï¼Œå¯ä»¥æŠŠæ ¸å¿ƒç®—æ³•è®¾è®¡ä¸ºæ¨¡æ¿æ–¹æ³•ï¼Œå‘¨è¾¹çš„ç›¸å…³ç»†èŠ‚åˆ™ç”±å„ä¸ªå­ç±»å®ç°ã€‚
é‡æ„æ—¶ï¼Œæ¨¡æ¿æ–¹æ³•æ¨¡å¼æ˜¯ä¸€ä¸ªç»å¸¸ä½¿ç”¨çš„æ¨¡å¼ï¼ŒæŠŠç›¸åŒçš„ä»£ç æŠ½å–åˆ°çˆ¶ç±»ä¸­ï¼Œç„¶åé€šè¿‡é’©å­å‡½æ•°çº¦æŸå…¶è¡Œä¸ºã€‚
é’©å­å‡½æ•°ï¼Œå¦‚ä¾‹å­ä¸­çš„isAlarmçš„è¿”å›å€¼å½±å“äº†æ¨¡æ¿æ–¹æ³•çš„æ‰§è¡Œç»“æœï¼Œè¿™æ ·çš„æ–¹æ³•å«åšé’©å­æ–¹æ³•ã€‚</p>

<h3 id="ç¤ºä¾‹ä»£ç ">ç¤ºä¾‹ä»£ç </h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#include &lt;iostream&gt;

using namespace std;

class HummerModel {
public:
    virtual void run() final {
        this-&gt;start();
        this-&gt;engineBoom();
        if(this-&gt;isAlarm()) this-&gt;alarm();
        this-&gt;stop();
    }
protected:
    virtual bool isAlarm() {return true;}
    virtual void alarm() = 0;
    virtual void engineBoom() = 0;
    virtual void start() = 0;
    virtual void stop() = 0;
};
class HummerH1Model : public HummerModel {
public:
    void setAlarm(bool isAlarm) {
        alarmFlag = isAlarm;
    }
private:
    bool alarmFlag = true;
protected:
    virtual void alarm() {
        cout &lt;&lt; "HummerH1Model alarm" &lt;&lt; endl;
    }
    virtual void engineBoom() {
        cout &lt;&lt; "HummerH1Model engineBoom" &lt;&lt; endl;
    }
    virtual void start() {
        cout &lt;&lt; "HummerH1Model strat" &lt;&lt; endl;
    }
    virtual void stop() {
        cout &lt;&lt; "HummerH1Model stop" &lt;&lt; endl;
    }
    virtual bool isAlarm() {
        return alarmFlag;
    }
};
class HummerH2Model : public HummerModel {
protected:
    virtual void alarm() {
        cout &lt;&lt; "HummerH2Model alarm" &lt;&lt; endl;
    }
    virtual void engineBoom() {
        cout &lt;&lt; "HummerH2Model engineBoom" &lt;&lt; endl;
    }
    virtual void start() {
        cout &lt;&lt; "HummerH2Model strat" &lt;&lt; endl;
    }
    virtual void stop() {
        cout &lt;&lt; "HummerH2Model stop" &lt;&lt; endl;
    }
    virtual bool isAlarm() {
        return false;
    }
};

int main() {
    HummerModel *H1 = new HummerH1Model();
    HummerModel *H2 = new HummerH2Model();
    H1-&gt;run();
    H2-&gt;run();
    HummerH1Model *H11 = new HummerH1Model();
    H11-&gt;setAlarm(false);
    H11-&gt;run();
    return 0;
}
</code></pre></div></div>

:ET