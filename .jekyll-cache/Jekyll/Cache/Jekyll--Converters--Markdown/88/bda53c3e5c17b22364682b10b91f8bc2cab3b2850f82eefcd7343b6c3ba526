I"°	<h3 id="çŠ¶æ€æ¨¡å¼">çŠ¶æ€æ¨¡å¼</h3>
<p>Allow an object to alter its behavior when its internal state changes.The object will appear to change its class.
(å½“ä¸€ä¸ªå¯¹è±¡å†…åœ¨çŠ¶æ€æ”¹å˜æ—¶å…è®¸å…¶æ”¹å˜è¡Œä¸º,è¿™ä¸ªå¯¹è±¡çœ‹èµ·æ¥åƒæ”¹å˜äº†å…¶ç±»ã€‚)</p>
<h3 id="é€šç”¨ç±»å›¾">é€šç”¨ç±»å›¾</h3>
<p>æŠ½è±¡çŠ¶æ€ç±»
æŠ½è±¡ç±»ï¼Œè´Ÿè´£å¯¹è±¡çŠ¶æ€å®šä¹‰ï¼Œå¹¶ä¸”å°è£…ç¯å¢ƒè§’è‰²ä»¥å®ç°çŠ¶æ€åˆ‡æ¢
å…·ä½“çŠ¶æ€ç±»
ç»§æ‰¿æŠ½è±¡ç±»ï¼Œå®Œæˆä¸¤ä¸ªèŒè´£ï¼Œæœ¬çŠ¶æ€çš„è¡Œä¸ºç®¡ç†ä»¥åŠè¶‹å‘çŠ¶æ€å¤„ç†
ç¯å¢ƒç±»
å®šä¹‰å®¢æˆ·ç«¯éœ€è¦çš„æ¥å£ï¼Œè´Ÿè´£å…·ä½“çŠ¶æ€çš„åˆ‡æ¢</p>
<h3 id="é€šç”¨æºç ">é€šç”¨æºç </h3>
<p>//æŠ½è±¡çŠ¶æ€ç±»
class State {
protected:
    //å®šä¹‰ä¸€ä¸ªç¯å¢ƒç±»ï¼Œæä¾›å­ç±»è®¿é—®
    Context* context;
public:
    //è®¾ç½®ç¯å¢ƒç±»
    void setContext(Context* c) { context = c; }
    //å…·æœ‰çš„è¡Œä¸º
    virtual void handle1() = 0;
    virtual void handle2() = 0;
};
//å…·ä½“çŠ¶æ€ç±»
class ConcreteState1 : public State {
public:
    //æœ¬çŠ¶æ€çš„å¤„ç†é€»è¾‘
    void handle1() override {
        //do something
    }
    //åˆ‡æ¢åˆ°çŠ¶æ€2
    void handle2() override {
        context-&gt;setCurrentState(Context::state2);
        context-&gt;handle2();
    }
};
class ConcreteState2 : public State {
public:
    void handle2() override {
        //do something
    }
    void handle1() override {
        context-&gt;setCurrentState(Context::state1);
        context-&gt;handle1();
    }
};
//ç¯å¢ƒç±»
class Context {
public:
    //å®šä¹‰çŠ¶æ€
    static State* state1;
    static State* state2;
    //è·å¾—å½“å‰çŠ¶æ€
    State* getCurrentState() { return currentState; }
    //è®¾ç½®å½“å‰çŠ¶æ€
    void setCurrentState(State* s) {
        currentState = c;
        //åˆ‡æ¢çŠ¶æ€
        currentState-&gt;setContext(this);
    }
    //è¡Œä¸ºå§”æ‰˜
    void handle1() { currentState-&gt;handle1(); }
    void handle2() { currentState-&gt;handle2(); }
private:
    //å½“å‰çŠ¶æ€
    State* currentState;
}
State* Context::state1 = new ConcreteState1();
State* Context::state2 = new ConcreteState2();</p>
<h3 id="ä¼˜ç‚¹">ä¼˜ç‚¹</h3>
<p>ç»“æ„æ¸…æ™°
éµå¾ªè®¾è®¡åŸåˆ™
å°è£…æ€§éå¸¸å¥½</p>
<h3 id="ç¼ºç‚¹">ç¼ºç‚¹</h3>
<p>å­ç±»ä¼šéå¸¸å¤š</p>
<h3 id="ä½¿ç”¨åœºæ™¯">ä½¿ç”¨åœºæ™¯</h3>
<p>è¡Œä¸ºéšçŠ¶æ€æ”¹å˜è€Œæ”¹å˜çš„åœºæ™¯
æ¡ä»¶ã€åˆ†æ”¯åˆ¤æ–­è¯­å¥çš„æ›¿ä»£è€…</p>
<h3 id="ç¤ºä¾‹ä»£ç ">ç¤ºä¾‹ä»£ç </h3>
<h3 id="ç¤ºä¾‹ä»£ç -1">ç¤ºä¾‹ä»£ç </h3>
<p>```
#include <iostream>
#include <string></string></iostream></p>
:ET