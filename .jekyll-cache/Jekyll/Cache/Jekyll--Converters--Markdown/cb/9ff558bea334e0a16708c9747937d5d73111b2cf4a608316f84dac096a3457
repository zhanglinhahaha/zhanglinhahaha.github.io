I"€O<h1 id="primer-cç¬”è®°è®°å½•ç¬¬åå…­ç« ">Primer C++ç¬”è®°è®°å½•(ç¬¬åå…­ç« )</h1>
<p>æœ¬ä¹¦ä¸ºPrimer C++ ä¸­æ–‡ç¬¬äº”ç‰ˆ</p>
<h2 id="ç»ƒä¹ é¢˜ç¬”è®°">ç»ƒä¹ é¢˜ç¬”è®°</h2>
<p><img src="https://img-blog.csdnimg.cn/20191108133749990.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNjg1MDEy,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="mf">16.1</span><span class="p">)</span>
<span class="err">å½“è°ƒç”¨å‡½æ•°æ¨¡æ¿æ—¶ï¼Œç¼–è¯‘å™¨é€šå¸¸ç”¨å‡½æ•°å®å‚æ¥ä¸ºæ¨æ–­æ¨¡æ¿å®å‚ã€‚</span>
<span class="err">ç¼–è¯‘å™¨ç”¨æ¨æ–­å‡ºçš„æ¨¡æ¿å‚æ•°æ¥å®ä¾‹åŒ–ä¸€ä¸ªç‰¹å®šç‰ˆæœ¬çš„å‡½æ•°ã€‚</span>
<span class="err">å½“ç¼–è¯‘å™¨å®ä¾‹åŒ–ä¸€ä¸ªæ¨¡æ¿æ—¶ï¼Œå®ƒä½¿ç”¨å®é™…çš„æ¨¡æ¿å®å‚ä»£æ›¿å¯¹åº”çš„æ¨¡æ¿å‚æ•°æ¥åˆ›å»ºå‡ºæ¨¡æ¿çš„ä¸€ä¸ªâ€œå®ä¾‹â€ã€‚</span>
<span class="p">(</span><span class="mf">16.2</span><span class="p">)</span>
<span class="cp">#include &lt;functional&gt;//less&lt;&gt;çš„å¤´æ–‡ä»¶
</span><span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">&gt;</span>
<span class="kt">int</span> <span class="nf">compare</span><span class="p">(</span><span class="k">const</span> <span class="n">T</span> <span class="o">&amp;</span><span class="n">v1</span><span class="p">,</span> <span class="k">const</span> <span class="n">T</span> <span class="o">&amp;</span><span class="n">v2</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">less</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">()(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">))</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">less</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">()(</span><span class="n">v2</span><span class="p">,</span> <span class="n">v1</span><span class="p">))</span> <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">(</span><span class="mf">16.3</span><span class="p">)</span>
<span class="cm">/**** test3 ****/</span>
<span class="k">class</span> <span class="nc">Sales_data</span> <span class="p">{</span>
<span class="k">friend</span> <span class="kt">bool</span> <span class="k">operator</span><span class="o">&lt;</span><span class="p">(</span><span class="k">const</span> <span class="n">Sales_data</span><span class="o">&amp;</span><span class="p">,</span> <span class="k">const</span> <span class="n">Sales_data</span><span class="o">&amp;</span><span class="p">);</span>
<span class="nl">public:</span>
    <span class="n">Sales_data</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span> <span class="n">s</span><span class="p">,</span> <span class="kt">double</span> <span class="n">p</span><span class="p">)</span><span class="o">:</span> <span class="n">isbn</span><span class="p">(</span><span class="n">s</span><span class="p">),</span> <span class="n">price</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
    <span class="n">string</span> <span class="n">isBn</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">isbn</span><span class="p">;</span> <span class="p">}</span>
<span class="nl">private:</span>
    <span class="n">string</span> <span class="n">isbn</span><span class="p">;</span>
    <span class="kt">double</span> <span class="n">price</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">bool</span> <span class="k">operator</span><span class="o">&lt;</span><span class="p">(</span><span class="k">const</span> <span class="n">Sales_data</span><span class="o">&amp;</span> <span class="n">sd1</span><span class="p">,</span> <span class="k">const</span> <span class="n">Sales_data</span><span class="o">&amp;</span> <span class="n">sd2</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">sd1</span><span class="p">.</span><span class="n">isBn</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">sd2</span><span class="p">.</span><span class="n">isBn</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">test3</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">string</span> <span class="n">s1</span><span class="p">(</span><span class="s">"t1"</span><span class="p">),</span> <span class="n">s2</span><span class="p">(</span><span class="s">"t2"</span><span class="p">);</span>
    <span class="n">Sales_data</span> <span class="n">sd1</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="mf">4.56</span><span class="p">),</span> <span class="n">sd2</span><span class="p">(</span><span class="n">s2</span><span class="p">,</span> <span class="mf">8.92</span><span class="p">);</span>
    <span class="n">print</span><span class="p">(</span><span class="n">compare</span><span class="p">(</span><span class="n">sd1</span><span class="p">,</span> <span class="n">sd2</span><span class="p">));</span>
    <span class="n">print</span><span class="p">(</span><span class="n">compare</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">));</span>
<span class="p">}</span>
<span class="cm">/*
éœ€è¦é‡è½½operator&lt;ï¼Œå¦åˆ™ä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯
error: no match for â€˜operator&lt;â€™ (operand types are â€˜const Sales_dataâ€™ and â€˜const Sales_dataâ€™)
*/</span>
<span class="p">(</span><span class="mf">16.4</span><span class="p">)</span>
<span class="cm">/**** test4 ****/</span>
<span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="nc">I</span><span class="p">,</span> <span class="k">typename</span> <span class="nc">V</span><span class="p">&gt;</span>
<span class="n">I</span> <span class="nf">findV</span><span class="p">(</span><span class="n">I</span> <span class="n">beg</span><span class="p">,</span> <span class="n">I</span> <span class="n">end</span><span class="p">,</span> <span class="n">V</span> <span class="n">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">while</span><span class="p">(</span><span class="n">beg</span> <span class="o">!=</span> <span class="n">end</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="o">*</span><span class="n">beg</span> <span class="o">==</span> <span class="n">value</span><span class="p">)</span> <span class="k">break</span><span class="p">;</span>
        <span class="o">++</span><span class="n">beg</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">beg</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">test4</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">};</span>
    <span class="k">auto</span> <span class="n">f</span> <span class="o">=</span> <span class="n">findV</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">v</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="mi">3</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">f</span> <span class="o">==</span> <span class="n">v</span><span class="p">.</span><span class="n">end</span><span class="p">()</span> <span class="o">?</span> <span class="s">"not found</span><span class="se">\n</span><span class="s">"</span><span class="o">:</span> <span class="s">"found</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="n">list</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">l</span> <span class="o">=</span> <span class="p">{</span><span class="s">"a"</span><span class="p">,</span> <span class="s">"b"</span><span class="p">,</span> <span class="s">"c"</span><span class="p">,</span> <span class="s">"d"</span><span class="p">,</span> <span class="s">"e"</span><span class="p">};</span>
    <span class="k">auto</span> <span class="n">fs</span> <span class="o">=</span> <span class="n">findV</span><span class="p">(</span><span class="n">l</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">l</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="s">"sstr"</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">fs</span> <span class="o">==</span> <span class="n">l</span><span class="p">.</span><span class="n">end</span><span class="p">()</span> <span class="o">?</span> <span class="s">"not found</span><span class="se">\n</span><span class="s">"</span><span class="o">:</span> <span class="s">"found</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
<span class="p">}</span>
<span class="p">(</span><span class="mf">16.5</span><span class="p">)</span>
<span class="cm">/**** test5 ****/</span>
<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">I</span><span class="p">&gt;</span>
<span class="kt">void</span> <span class="nf">printArr</span><span class="p">(</span><span class="n">I</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">i</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">e</span> <span class="o">:</span> <span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">e</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">test5</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">char</span> <span class="n">c</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="sc">'a'</span><span class="p">,</span> <span class="sc">'b'</span><span class="p">,</span> <span class="sc">'c'</span><span class="p">};</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">};</span>
    <span class="n">printArr</span><span class="p">(</span><span class="n">c</span><span class="p">);</span>
    <span class="n">printArr</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="p">}</span>
<span class="p">(</span><span class="mf">16.6</span><span class="p">)</span>
<span class="n">begin</span><span class="err">è·å–ä¸€ä¸ªæ•°ç»„çš„å¼•ç”¨ï¼ŒæŒ‡å‘æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ </span>
<span class="n">end</span><span class="err">è·å–æ•°ç»„çš„å¼•ç”¨å’Œå¤§å°ï¼ŒæŒ‡å‘è¿™ä¸ªå¼•ç”¨åŠ ä¸Šæ•°ç»„çš„å¤§å°</span>
<span class="cm">/**** test6 ****/</span>
<span class="cm">/**
 *T(&amp;arr)[s]
 *å‚æ•°å£°æ˜ä¸€ä¸ªåä¸ºarrçš„å˜é‡,è¯¥å˜é‡æ˜¯å¯¹ä¸€ä¸ªæ•°ç»„ç±»å‹Tçš„å¼•ç”¨
 *å°†æ•°ç»„ä¼ é€’ç»™å‡½æ•°è€Œä¸ä½¿å…¶è¡°é€€ä¸ºæŒ‡é’ˆçš„æ–¹æ³•
 *å¯ä»¥åœ¨å‡½æ•°ä¸­ä½¿ç”¨æ•°ç»„ï¼Œå°±åƒåœ¨å£°æ˜å®ƒçš„ä½œç”¨åŸŸä¸­ä½¿ç”¨æ•°ç»„æ ·
 */</span>
<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">s</span><span class="p">&gt;</span>
<span class="n">T</span><span class="o">*</span> <span class="nf">beginOf</span><span class="p">(</span><span class="n">T</span><span class="p">(</span><span class="o">&amp;</span><span class="n">arr</span><span class="p">)[</span><span class="n">s</span><span class="p">])</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">arr</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">s</span><span class="p">&gt;</span>
<span class="n">T</span><span class="o">*</span> <span class="nf">endOf</span><span class="p">(</span><span class="n">T</span><span class="p">(</span><span class="o">&amp;</span><span class="n">arr</span><span class="p">)[</span><span class="n">s</span><span class="p">])</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">arr</span><span class="o">+</span><span class="n">s</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">test6</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">string</span> <span class="n">s</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="s">"abc"</span><span class="p">,</span> <span class="s">"def"</span><span class="p">,</span> <span class="s">"ghi"</span><span class="p">};</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="p">(</span><span class="n">beginOf</span><span class="p">(</span><span class="n">s</span><span class="p">))</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="p">(</span><span class="n">endOf</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">(</span><span class="mf">16.7</span><span class="p">)</span>
<span class="cm">/**** test7 ****/</span>
<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="nc">T</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">s</span><span class="p">&gt;</span>
<span class="k">constexpr</span> <span class="kt">unsigned</span> <span class="nf">getSize</span><span class="p">(</span><span class="n">T</span><span class="p">(</span><span class="o">&amp;</span><span class="n">arr</span><span class="p">)[</span><span class="n">s</span><span class="p">])</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">s</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">test7</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">};</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">getSize</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">(</span><span class="mf">16.8</span><span class="p">)</span>
<span class="err">å› ä¸ºå¤§å¤šæ•°ç±»é€šå¸¸ä¼šå®šä¹‰</span><span class="s">"!="</span><span class="err">è€Œä¸æ˜¯</span><span class="s">"&lt;"</span><span class="err">ï¼Œä½¿ç”¨</span><span class="s">"!="</span><span class="err">ä¼šå‡å°‘é”™è¯¯</span>
</code></pre></div></div>

<p><img src="https://img-blog.csdnimg.cn/20191108150514585.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNjg1MDEy,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><img src="https://img-blog.csdnimg.cn/20191108151956656.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNjg1MDEy,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><img src="https://img-blog.csdnimg.cn/20191108152420940.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><img src="https://img-blog.csdnimg.cn/201911081532168.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNjg1MDEy,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><img src="https://img-blog.csdnimg.cn/20191108154258810.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNjg1MDEy,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><img src="https://img-blog.csdnimg.cn/20191108155629758.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNjg1MDEy,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><img src="https://img-blog.csdnimg.cn/20191108160428511.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><img src="https://img-blog.csdnimg.cn/20191108160854188.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNjg1MDEy,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><img src="https://img-blog.csdnimg.cn/20191108161744133.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNjg1MDEy,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><img src="https://img-blog.csdnimg.cn/2019110816224051.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><img src="https://img-blog.csdnimg.cn/20191108162728184.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><img src="https://img-blog.csdnimg.cn/20191108162941365.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNjg1MDEy,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><img src="https://img-blog.csdnimg.cn/20191108163206746.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><img src="https://img-blog.csdnimg.cn/20191108163642625.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNjg1MDEy,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><img src="https://img-blog.csdnimg.cn/201911081645507.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><img src="https://img-blog.csdnimg.cn/2019110816472833.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><img src="https://img-blog.csdnimg.cn/20191108164827442.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNjg1MDEy,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
:ET